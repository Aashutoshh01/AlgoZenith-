-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Solution
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#include<bits/stdc++.h>
using namespace std;
#define ll long long int
int main(){
    ios_base::sync_with_stdio(0);cin.tie(0);cout.tie(0);
    int t;cin>>t;
    while(t--){
        int n,m,q;cin>>n>>m>>q;
        pair<int,int>a[n];
        for(int i=0;i<n;i++){
            cin>>a[i].first;
            a[i].second=0;
        }
        for(int i=0;i<m;i++){
            int l,r;cin>>l>>r;
            l--;r--;
            a[l].second++;
            if(r+1<n)a[r+1].second--;
        }
        for(int i=1;i<n;i++){
            a[i].second+=a[i-1].second;
        }
        sort(a,a+n);
        pair<ll,int>Q[q];
        int ans[q];
        for(int i=0;i<q;i++){
            cin>>Q[i].first;
            Q[i].second=i;
        }
        sort(Q,Q+q);
        for(int i=0;i<q;i++){
            int ptr=0;ll sum=0;
            ll x=Q[i].first;
            while(ptr<n&&sum+a[ptr].second<x){
                sum+=a[ptr].second;
                ptr++;
            }
            if(ptr<n)ans[Q[i].second]=a[ptr].first;
            else ans[Q[i].second]=-1;
        }
        for(int i=0;i<q;i++){
            cout<<ans[i]<<" ";
        }
        cout<<"\n";
    }
    return 0;
}
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Solution 1
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#include<bits/stdc++.h>
using namespace std;

#define ll long long int
#define LD long double

const int N = 100010;

int inf = 1e9;
int mod = 1e9 + 7;

signed main()
{
    //freopen("IN", "r", stdin);
    //freopen("OUT", "w", stdout);

    ios_base::sync_with_stdio(0);
    cin.tie(0); cout.tie(0);

    int _; cin >> _;
    while(_--) {
        int n, m, q;
        cin >> n >> m >> q;
        pair<int,int> A[n];
        for(int i = 0; i < n; i++) {
            cin >> A[i].first;
            A[i].second = 0;
        }
        for(int i = 0; i < m; i++) {
            int l, r; cin >> l >> r;
            l--; r--;
            A[l].second++;
            if(r + 1 < n) A[r + 1].second--;
        }
        for(int i = 1; i < n; i++)
            A[i].second += A[i - 1].second;

        sort(A, A + n);

        int ans[q];
        pair<ll,int> Q[q];
        for(int i = 0; i < q; i++) {
            cin >> Q[i].first;
            Q[i].second = i;
        }

        sort(Q, Q + q);

        int ptr = 0;
        ll sum = 0;

        for(int i = 0; i < q; i++) {
            ll x = Q[i].first;
            while(ptr < n && sum + A[ptr].second < x) {
                sum += A[ptr].second;
                ptr++;
            }
            if(ptr < n) ans[Q[i].second] = A[ptr].first;
            else ans[Q[i].second] = -1;
        }

        for(int i = 0; i < q; i++)
            cout << ans[i] << " ";
        cout << "\n";
    }
    return 0;
}
